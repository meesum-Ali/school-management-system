import{r as u,j as e}from"./index-C8VS4fXx.js";import{u as b,o as p,c as v,a as l}from"./index.esm-BWXX6-1U.js";import{I as a}from"./Input-BklDdty6.js";import{C as j,B as I}from"./Card-OmK6nwwd.js";const f=v().shape({name:l().required("Class name is required").min(2,"Class name must be at least 2 characters"),level:l().required("Class level is required"),homeroomTeacherId:l().uuid("Must be a valid UUID if provided").nullable().optional()}),E=({initialData:s,onSubmit:h,isSubmitting:t})=>{const d=!!s,{register:m,handleSubmit:n,setValue:C,formState:{errors:r},reset:c}=b({resolver:p(f),defaultValues:{name:s?.name||"",level:s?.level||"",homeroomTeacherId:s?.homeroomTeacherId||""}});u.useEffect(()=>{s&&c({name:s.name,level:s.level,homeroomTeacherId:s.homeroomTeacherId||""})},[s,c]);const x=i=>{const o={...i};o.homeroomTeacherId===""&&(o.homeroomTeacherId=void 0),h(o)};return e.jsx(j,{className:"w-full max-w-lg",children:e.jsxs("form",{onSubmit:n(x),className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl mb-4",children:d?"Edit Class":"Create New Class"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block mb-1 font-medium",children:"Class Name"}),e.jsx(a,{id:"name",type:"text",...m("name"),className:r.name?"border-red-500":""}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"level",className:"block mb-1 font-medium",children:"Level/Grade"}),e.jsx(a,{id:"level",type:"text",...m("level"),className:r.level?"border-red-500":""}),r.level&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.level.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"homeroomTeacherId",className:"block mb-1 font-medium",children:"Homeroom Teacher ID (Optional UUID)"}),e.jsx(a,{id:"homeroomTeacherId",type:"text",...m("homeroomTeacherId"),placeholder:"Enter UUID or leave blank"}),r.homeroomTeacherId&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.homeroomTeacherId.message})]}),e.jsx(I,{type:"submit",disabled:t,children:t?"Submitting...":d?"Update Class":"Create Class"})]})})};export{E as C};
