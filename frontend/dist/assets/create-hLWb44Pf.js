import{j as e,P as p,U as c,u as b,r as s,A as S,G as n,aa as f}from"./index-C8VS4fXx.js";import{S as h}from"./SubjectForm-DAYUhdAu.js";import{N as i}from"./Notification-B1yMlq7q.js";import"./index.esm-BWXX6-1U.js";import"./Input-BklDdty6.js";import"./Card-OmK6nwwd.js";import"./Textarea-BGIjE9FB.js";const g=()=>{const u=b(),[l,r]=s.useState(!1),[a,t]=s.useState(null),{user:m}=s.useContext(S),x=async j=>{r(!0),t(null);try{await f(j),u("/admin/subjects")}catch(o){const d=o instanceof Error?o.message:"Failed to create subject.";t(d),r(!1)}};return m?.roles.includes(c.SCHOOL_ADMIN)?e.jsx(n,{children:e.jsx("div",{className:"container mx-auto p-4 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-lg",children:[a&&e.jsx(i,{message:a,type:"error",onClose:()=>t(null)}),e.jsx("h1",{className:"text-2xl font-semibold mb-6 text-center",children:"Create New Subject"}),e.jsx(h,{onSubmit:x,isSubmitting:l})]})})}):e.jsx(n,{children:e.jsx("div",{className:"container mx-auto p-4",children:e.jsx(i,{message:"You do not have permission to create subjects.",type:"error"})})})},E=()=>e.jsx(p,{requiredRoles:[c.SCHOOL_ADMIN],children:e.jsx(g,{})});export{E as default};
