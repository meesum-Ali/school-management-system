import{r as u,j as e}from"./index-C8VS4fXx.js";import{u as b,o as j,c as h,a as c}from"./index.esm-BWXX6-1U.js";import{I as i}from"./Input-BklDdty6.js";import{C as f,B as N}from"./Card-OmK6nwwd.js";import{T as S}from"./Textarea-BGIjE9FB.js";const v=h().shape({name:c().required("Subject name is required").min(2,"Name must be at least 2 characters"),code:c().optional().nullable().min(3,"Code must be at least 3 characters if provided"),description:c().optional().nullable()}),y=({initialData:s,onSubmit:n,isSubmitting:d})=>{const m=!!s,{register:o,handleSubmit:l,formState:{errors:r},reset:a}=b({resolver:j(v),defaultValues:{name:s?.name||"",code:s?.code||"",description:s?.description||""}});u.useEffect(()=>{s&&a({name:s.name,code:s.code||"",description:s.description||""})},[s,a]);const p=x=>{const t={...x};t.code===""&&(t.code=void 0),t.description===""&&(t.description=void 0),n(t)};return e.jsx(f,{className:"w-full max-w-lg",children:e.jsxs("form",{onSubmit:l(p),className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl mb-4",children:m?"Edit Subject":"Create New Subject"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block mb-1 font-medium",children:"Subject Name"}),e.jsx(i,{id:"name",type:"text",...o("name"),className:r.name?"border-red-500":""}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"block mb-1 font-medium",children:"Code (Optional)"}),e.jsx(i,{id:"code",type:"text",...o("code"),className:r.code?"border-red-500":""}),r.code&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.code.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block mb-1 font-medium",children:"Description (Optional)"}),e.jsx(S,{id:"description",...o("description"),rows:4,className:r.description?"border-red-500":""}),r.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description.message})]}),e.jsx(N,{type:"submit",disabled:d,children:d?"Submitting...":m?"Update Subject":"Create Subject"})]})})};export{y as S};
