import{j as e,P as C,U as l,u as f,r as t,A as h,G as n,K as g}from"./index-C8VS4fXx.js";import{C as N}from"./ClassForm-CKqPO0iO.js";import{N as i}from"./Notification-B1yMlq7q.js";import"./index.esm-BWXX6-1U.js";import"./Input-BklDdty6.js";import"./Card-OmK6nwwd.js";const S=()=>{const c=f(),[m,a]=t.useState(!1),[r,s]=t.useState(null),{user:u}=t.useContext(h),x=async d=>{const j=d;a(!0),s(null);try{await g(j),c("/admin/classes")}catch(o){const p=o instanceof Error?o.message:"Failed to create class.";s(p),a(!1)}};return u?.roles.includes(l.SCHOOL_ADMIN)?e.jsx(n,{children:e.jsx("div",{className:"container mx-auto p-4 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-lg",children:[r&&e.jsx(i,{message:r,type:"error",onClose:()=>s(null)}),e.jsx("h1",{className:"text-2xl font-semibold mb-6 text-center",children:"Create New Class"}),e.jsx(N,{onSubmit:x,isSubmitting:m})]})})}):e.jsx(n,{children:e.jsx("div",{className:"container mx-auto p-4",children:e.jsx(i,{message:"You do not have permission to create classes.",type:"error"})})})},E=()=>e.jsx(C,{requiredRoles:[l.SCHOOL_ADMIN],children:e.jsx(S,{})});export{E as default};
